"use strict";(self.webpackChunk_solana_wallet_adapter_create_react_app_starter=self.webpackChunk_solana_wallet_adapter_create_react_app_starter||[]).push([[650],{650:(n,t,e)=>{e.r(t),e.d(t,{default:()=>j});var r=e(9033),o=e.n(r),i=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();const c=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return i(t,n),t}(o());var s=e(4760),a=e(2933),u=e.n(a),l=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(t){i(t)}}function s(n){try{a(r.throw(n))}catch(t){i(t)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((r=r.apply(n,t||[])).next())}))};class d extends(o()){constructor(n,t){if(super(),this._network=t,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=n=>{var t;if(this._injectedProvider&&n.source===window||n.origin===(null===(t=this._providerUrl)||void 0===t?void 0:t.origin)&&n.source===this._popup)if("connected"===n.data.method){const t=new s.nh(n.data.params.publicKey);this._publicKey&&this._publicKey.equals(t)||(this._publicKey&&!this._publicKey.equals(t)&&this.handleDisconnect(),this._publicKey=t,this._autoApprove=!!n.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===n.data.method)this.handleDisconnect();else if(n.data.result||n.data.error){const t=this._responsePromises.get(n.data.id);if(t){const[e,r]=t;n.data.result?e(n.data.result):r(new Error(n.data.error))}}},this._beforeUnload=()=>{this.disconnect()},function(n){return"object"===typeof n&&null!==n}(e=n)&&"postMessage"in e&&"function"===typeof e.postMessage)this._injectedProvider=n;else{if(!function(n){return"string"===typeof n}(n))throw new Error("provider parameter must be an injected provider or a URL string.");this._providerUrl=new URL(n),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString()}var e}handleConnect(){var n;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise((n=>{this.sendRequest("connect",{}),n()})):(window.name="parent",this._popup=window.open(null===(n=this._providerUrl)||void 0===n?void 0:n.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((n=>{this.once("connect",n)})))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(((n,t)=>{let[,e]=n;this._responsePromises.delete(t),e(new Error("Wallet disconnected"))}))}sendRequest(n,t){return l(this,void 0,void 0,(function*(){if("connect"!==n&&!this.connected)throw new Error("Wallet not connected");const e=this._nextRequestId;return++this._nextRequestId,new Promise(((r,o)=>{var i,c,s,a;this._responsePromises.set(e,[r,o]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:e,method:n,params:Object.assign({network:this._network},t)}):(null===(i=this._popup)||void 0===i||i.postMessage({jsonrpc:"2.0",id:e,method:n,params:t},null!==(s=null===(c=this._providerUrl)||void 0===c?void 0:c.origin)&&void 0!==s?s:""),this.autoApprove||null===(a=this._popup)||void 0===a||a.focus())}))}))}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}connect(){return l(this,void 0,void 0,(function*(){this._popup&&this._popup.close(),yield this.handleConnect()}))}disconnect(){return l(this,void 0,void 0,(function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()}))}sign(n,t){return l(this,void 0,void 0,(function*(){if(!(n instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const e=yield this.sendRequest("sign",{data:n,display:t});return{signature:u().decode(e.signature),publicKey:new s.nh(e.publicKey)}}))}signTransaction(n){return l(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signTransaction",{message:u().encode(n.serializeMessage())}),e=u().decode(t.signature),r=new s.nh(t.publicKey);return n.addSignature(r,e),n}))}signAllTransactions(n){return l(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signAllTransactions",{messages:n.map((n=>u().encode(n.serializeMessage())))}),e=t.signatures.map((n=>u().decode(n))),r=new s.nh(t.publicKey);return n=n.map(((n,t)=>(n.addSignature(r,e[t]),n)))}))}diffieHellman(n){return l(this,void 0,void 0,(function*(){if(!(n instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:n})}))}}var h=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),p=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(t){i(t)}}function s(n){try{a(r.throw(n))}catch(t){i(t)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((r=r.apply(n,t||[])).next())}))},f=function(n,t){var e,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(n,c)}catch(s){i=[6,s],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const v=function(n){function t(t,e){var r=n.call(this)||this;return r._instance=null,r._handleConnect=function(){r.emit("connect")},r._handleDisconnect=function(){window.clearInterval(r._pollTimer),r.emit("disconnect")},r._provider=t,r._network=e,r}return h(t,n),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._instance.publicKey||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this._instance.connected||!1},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return p(this,void 0,void 0,(function(){var n=this;return f(this,(function(t){switch(t.label){case 0:return this._instance=new d(this._provider,this._network),this._instance.on("connect",this._handleConnect),this._instance.on("disconnect",this._handleDisconnect),this._pollTimer=window.setInterval((function(){var t,e;!1!==(null===(e=null===(t=n._instance)||void 0===t?void 0:t._popup)||void 0===e?void 0:e.closed)&&n._handleDisconnect()}),200),[4,this._instance.connect()];case 1:return t.sent(),[2]}}))}))},t.prototype.disconnect=function(){return p(this,void 0,void 0,(function(){return f(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return this._instance.removeAllListeners("connect"),this._instance.removeAllListeners("disconnect"),[4,this._instance.disconnect()];case 1:return n.sent(),[2]}}))}))},t.prototype.signTransaction=function(n){return p(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signTransaction(n)];case 1:return[2,t.sent()]}}))}))},t.prototype.signAllTransactions=function(n){return p(this,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.signAllTransactions(n)];case 1:return[2,t.sent()]}}))}))},t.prototype.signMessage=function(n,t){return void 0===t&&(t="hex"),p(this,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._instance.sign(n,t)];case 1:return e=r.sent().signature,[2,Uint8Array.from(e)]}}))}))},t}(c);var _=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),w=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(t){i(t)}}function s(n){try{a(r.throw(n))}catch(t){i(t)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((r=r.apply(n,t||[])).next())}))},y=function(n,t){var e,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(n,c)}catch(s){i=[6,s],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const b=function(n){function t(t,e){var r=n.call(this)||this;return r._provider=t,r._network=e,r}return _(t,n),Object.defineProperty(t.prototype,"publicKey",{get:function(){return this._provider.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this._provider.isConnected},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return w(this,void 0,void 0,(function(){var n;return y(this,(function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),this.connected)throw new Error("Wallet already connected");return[4,this._provider.connect()];case 1:return t.sent(),this.emit("connect"),[3,3];case 2:throw n=t.sent(),this.emit("disconnect"),n;case 3:return[2]}}))}))},t.prototype.disconnect=function(){return w(this,void 0,void 0,(function(){return y(this,(function(n){switch(n.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.disconnect()];case 1:return n.sent(),this.emit("disconnect"),[2]}}))}))},t.prototype.signTransaction=function(n){return w(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signTransaction(n,this._network)];case 1:return[2,t.sent()]}}))}))},t.prototype.signAllTransactions=function(n){return w(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._provider.signAllTransactions(n,this._network)];case 1:return[2,t.sent()]}}))}))},t.prototype.signMessage=function(n){return w(this,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");if(!(n instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return[4,this._provider.signMessage(n)];case 1:return[2,t.sent().signature]}}))}))},t}(c);var g=function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])},n(t,e)};return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),m=function(n,t,e,r){return new(e||(e=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(t){i(t)}}function s(n){try{a(r.throw(n))}catch(t){i(t)}}function a(n){var t;n.done?o(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(c,s)}a((r=r.apply(n,t||[])).next())}))},P=function(n,t){var e,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=t.call(n,c)}catch(s){i=[6,s],r=0}finally{e=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};const j=function(n){function t(t){var e=n.call(this)||this;return e._network="mainnet-beta",e._adapterInstance=null,e._connectHandler=null,e._connected=function(){e._connectHandler&&(e._connectHandler.resolve(),e._connectHandler=null),e.emit("connect",e.publicKey)},e._disconnected=function(){e._connectHandler&&(e._connectHandler.reject(),e._connectHandler=null),e._adapterInstance=null,e.emit("disconnect")},(null===t||void 0===t?void 0:t.network)&&(e._network=null===t||void 0===t?void 0:t.network),(null===t||void 0===t?void 0:t.provider)?e._provider=null===t||void 0===t?void 0:t.provider:window.salmon?e._provider=window.salmon:e._provider="https://app.salmonwallet.io",e}return g(t,n),Object.defineProperty(t.prototype,"publicKey",{get:function(){var n;return(null===(n=this._adapterInstance)||void 0===n?void 0:n.publicKey)||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isConnected",{get:function(){var n;return!!(null===(n=this._adapterInstance)||void 0===n?void 0:n.connected)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connected",{get:function(){return this.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoApprove",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return m(this,void 0,void 0,(function(){var n=this;return P(this,(function(t){switch(t.label){case 0:return this.connected?[2]:("string"===typeof this._provider?this._adapterInstance=new v(this._provider,this._network):this._adapterInstance=new b(this._provider,this._network),this._adapterInstance.on("connect",this._connected),this._adapterInstance.on("disconnect",this._disconnected),this._adapterInstance.connect(),[4,new Promise((function(t,e){n._connectHandler={resolve:t,reject:e}}))]);case 1:return t.sent(),[2]}}))}))},t.prototype.disconnect=function(){return m(this,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return this._adapterInstance?[4,this._adapterInstance.disconnect()]:[2];case 1:return n.sent(),[2]}}))}))},t.prototype.signTransaction=function(n){return m(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signTransaction(n)];case 1:return[2,t.sent()]}}))}))},t.prototype.signAllTransactions=function(n){return m(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signAllTransactions(n)];case 1:return[2,t.sent()]}}))}))},t.prototype.signMessage=function(n,t){return void 0===t&&(t="utf8"),m(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:if(!this.connected)throw new Error("Wallet not connected");return[4,this._adapterInstance.signMessage(n,t)];case 1:return[2,e.sent()]}}))}))},t.prototype.sign=function(n,t){return void 0===t&&(t="utf8"),m(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:return[4,this.signMessage(n,t)];case 1:return[2,e.sent()]}}))}))},t}(o())}}]);
//# sourceMappingURL=650.363bfea6.chunk.js.map